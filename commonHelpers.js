import{a as w,i as f,S as I}from"./assets/vendor-b11e2a50.js";(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const e of document.querySelectorAll('link[rel="modulepreload"]'))s(e);new MutationObserver(e=>{for(const r of e)if(r.type==="childList")for(const i of r.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&s(i)}).observe(document,{childList:!0,subtree:!0});function n(e){const r={};return e.integrity&&(r.integrity=e.integrity),e.referrerPolicy&&(r.referrerPolicy=e.referrerPolicy),e.crossOrigin==="use-credentials"?r.credentials="include":e.crossOrigin==="anonymous"?r.credentials="omit":r.credentials="same-origin",r}function s(e){if(e.ep)return;e.ep=!0;const r=n(e);fetch(e.href,r)}})();const B="44764686-39d1ce2fa505d935edd12a03d",b="https://pixabay.com/api/";async function h(o,t=1){try{return(await w.get(b,{params:{key:B,q:o,image_type:"photo",orientation:"horizontal",safesearch:!0,page:t,per_page:15}})).data}catch(n){throw console.error("Error fetching images:",n),n}}let m;function g(o,t=!1){const n=document.getElementById("image-gallery");if(t||(n.innerHTML=""),o.length===0&&!t){f.info({message:"Sorry, there are no images matching your search query. Please try again!"});return}const s=t?n.querySelector("ul"):document.createElement("ul");t||s.classList.add("image-list"),o.forEach(e=>{const r=document.createElement("li");r.classList.add("image-item");const i=document.createElement("a");i.href=e.largeImageURL,i.dataset.lightbox="gallery";const a=document.createElement("img");a.src=e.webformatURL,a.alt=e.tags,a.dataset.large=e.largeImageURL,i.appendChild(a);const d=document.createElement("div");d.classList.add("image-info"),d.innerHTML=`
            <p>Likes: ${e.likes}</p>
            <p>Views: ${e.views}</p>
            <p>Comments: ${e.comments}</p>
            <p>Downloads: ${e.downloads}</p>
        `,r.appendChild(i),r.appendChild(d),s.appendChild(r)}),t||n.appendChild(s),m?m.refresh():m=new I("[data-lightbox]")}function u(o){f.error({message:o})}function p(){document.getElementById("loader").classList.remove("hidden")}function y(){document.getElementById("loader").classList.add("hidden")}function E(){document.getElementById("load-more").classList.remove("hidden")}function L(){document.getElementById("load-more").classList.add("hidden")}function v(){f.info({message:"We're sorry, but you've reached the end of search results."})}let l=1,c="";document.getElementById("search-form").addEventListener("submit",async o=>{if(o.preventDefault(),c=document.getElementById("search-input").value.trim(),!c){u("Please enter a search term.");return}l=1,L(),p();try{const{hits:t,totalHits:n}=await h(c,l);g(t),n>t.length&&E()}catch(t){u("An error occurred while fetching images."),console.error(t)}finally{y()}});document.getElementById("load-more").addEventListener("click",async()=>{l++,p(),L();try{const{hits:o,totalHits:t}=await h(c,l);g(o,!0),document.querySelectorAll(".image-item").length<t?E():v();const s=document.querySelector(".image-item");if(s){const e=s.getBoundingClientRect().height;window.scrollBy({top:e*2,behavior:"smooth"})}}catch{u("An error occurred while fetching images."),console.error(error)}finally{y()}});
//# sourceMappingURL=commonHelpers.js.map
